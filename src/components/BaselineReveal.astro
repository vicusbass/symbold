---
interface Props {
  class?: string;
  delayed?: boolean;
}

const { class: className = '', delayed = false } = Astro.props;
---

<div class="overflow-hidden">
  <div class={`baseline-scroll ${className}`} data-baseline-animation data-delayed={delayed}>
    <slot />
  </div>
</div>

<script>
  document.addEventListener('astro:page-load', () => {
    document.querySelectorAll('[data-baseline-animation]').forEach((el) => {
      const delayed = el.getAttribute('data-delayed') === 'true';
      setTimeout(() => el.classList.add('visible'), delayed ? 300 : 0);
    });
  });
</script>
