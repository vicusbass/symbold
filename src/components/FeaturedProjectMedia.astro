---
import ProjectPreview from './ProjectPreview.astro';
import { urlFor } from '../lib/sanity';
import type { FeaturedProject } from '../types/sanity';

interface Props {
  project: FeaturedProject;
}

const { project } = Astro.props;
---

<ProjectPreview
  href={`/work/${project.projectReference.slug.current}`}
  imageUrl={project.mediaType === 'image' && project.image ? urlFor(project.image)?.url() : null}
  videoPlaybackId={
    project.mediaType === 'video' && project.video?.asset?.playbackId
      ? project.video.asset.playbackId
      : null
  }
  alt={project.image?.alt || ''}
  videoTitle={project.projectReference.title}
  description={project.description}
  textColor={project.textColor?.hex}
/>
